@model WuphfWeb.Models.DTO.PostCreateDTO

@{
    ViewData["Title"] = "Crea Post";
}

<style>
    .my-btn {
        background-color: var(--Primary-Button) !important;
        color: #fff !important;
        width: 100%;
        height: 55px;
        border-radius: 15px !important;
    }
    .post-card {
        max-width: 450px;
    }

    .post-cont {
        display: flex;
        justify-content: center;
        margin-top: 100px;
    }

    /*.crop-card {
        position: absolute !important;
        max-width: 450px;
        height: 452px !important;
        max-height: 450px;
        z-index: 100;
        justify-content: center;
        border-radius: 0px;
    }

    .cropper {
        max-width: 450px !important;
    }

    .cropped-button {
        width: 225px;
        height: 34px;
    }*/
</style>

<div style="font-family: montserrat;">
    <div class="post-cont container-fluid">
        @*<div id="cropper" class="card d-none crop-card">
            <div class="text-center">
              <canvas id="imageCanvas" class="cropper" width="350px" height="350px" style="border:0px solid #000000;"></canvas>
              <button type="submit" onclick="RemoveCropPopUp()" class="btn my-btn my-text cropped-button mt-3">AGGIUNGI</button>
            </div>
        </div>*@
        <div class="card mb-3 shadow-sm post-card">
            <div class="row g-0">
                <div>
                  <img class="bd-placeholder-img card-img-top"  id="myImg" width="100%" height="100%" src="/images/add-image.jpg" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"></img>
                  @*<div class="bd-placeholder-img card-img-top overflow-hidden" id="preview"></div>*@
                </div> 
                <div>
                    <div class="card-body">
                        <h5 class="titolo">Crea Post</h5>
                        <form asp-controller="Post" asp-action="CreatePost" method="post" enctype="multipart/form-data">
                            <div class="mb-3 py-2">
                                <label for="uploadBoxFoto" class="form-label">Foto</label>
                                <input type="file" id="uploadBoxFoto" name="fileFoto" class="form-control" accept="image/*" onchange="loadFile(event)" />
                                @*<input class="form-control mb-3" type="file" id="fileInput" name="file" multiple="" onchange="CropPopUp()">*@
                            </div>
                            <div class="mb-3 py-2">
                                <label for="uploadBoxVideo" class="form-label">Video</label>
                                <input type="file" id="uploadBoxVideo" name="fileVideo" class="form-control" accept="video/*" />
                            </div>
                            <div class="mb-4">
                                <label for="exampleFormControlTextarea1" class="form-label">Descrizione</label>
                                <textarea asp-for="Testo" class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
                                @*<input asp-for="Testo" type="text" class="form-control" id="exampleFormControlTextarea1" />*@
                                <span asp-validation-for="Testo" class="text-danger"></span>
                            </div>
                            <button type="submit" class="btn my-btn my-text">PUBBLICA</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
@*<a href="/Storia/CreateStoria" class="btn my-btn my-text" style="width: 150px; bottom: 3%; right: 3%;">Crea storia</a>*@
@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    @*<script src="~/js/ImageCropper.js"></script>*@
    <script>
        let nav = document.getElementById('nav');
        nav.classList += ' fixed-top';
    </script>
    <script>
        var navLink = document.getElementById("nav-post");
        navLink.classList += " nav-link-active";

        var loadFile = function (event) {
            var image = document.getElementById("myImg");
            image.src = URL.createObjectURL(event.target.files[0]);
        };
    </script>
}
