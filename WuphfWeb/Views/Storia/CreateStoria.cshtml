@model WuphfWeb.Models.DTO.StoriaCreateDTO

@{
    ViewData["Title"] = "Crea Storia";
}

<style>
    .my-btn {
        background-color: var(--Primary-Button) !important;
        color: #fff !important;
        width: 100%;
        height: 55px;
        border-radius: 15px !important;
    }

    .post-card {
        max-width: 450px;
    }

    .post-cont {
        display: flex;
        justify-content: center;
        margin-top: 100px;
    }
</style>

<div style="font-family: montserrat;">
    <div class="post-cont container-fluid">
        <div class="card mb-3 shadow-sm post-card">
            <div class="row g-0">
                <div>
                    <img id="myImg" class="bd-placeholder-img card-img-top" width="100%" height="100%" src="~/images/add-image.jpg" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"></img>
                </div>
                <div>
                    <div class="card-body">
                        <h5 class="titolo">Crea Storia</h5>
                        <form asp-controller="Storia" asp-action="CreateStoria" method="post" enctype="multipart/form-data">
                            <div class="mb-3 py-2">
                                <label for="uploadBoxFoto" class="form-label">Foto</label>
                                <input type="file" id="uploadBoxFoto" name="fileFoto" class="form-control" accept="image/*" onchange="loadFile(event)" />
                            </div>
                            <div class="mb-3 py-2">
                                <label for="uploadBoxVideo" class="form-label">Video</label>
                                <input type="file" id="uploadBoxVideo" name="fileVideo" class="form-control" accept="video/*" />
                            </div>
                            <div class="mb-4">
                                <label for="exampleFormControlTextarea1" class="form-label">Descrizione</label>
                                <textarea asp-for="Testo" class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
                                @*<input asp-for="Testo" type="text" class="form-control" id="exampleFormControlTextarea1" />*@
                                <span asp-validation-for="Testo" class="text-danger"></span>
                            </div>
                            <button type="submit" class="btn my-btn my-text">PUBBLICA</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        let nav = document.getElementById('nav');
        nav.classList += ' fixed-top';
    </script>
    <script>
        var navLink = document.getElementById("nav-post");
        navLink.classList += " nav-link-active";

        var loadFile = function (event) {
            var image = document.getElementById("myImg");
            image.src = URL.createObjectURL(event.target.files[0]);
        };
    </script>
}
